(()=>{var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};const t={doc:"",config:{mode:"hiding",debug:!0},data:{page:{},styles:[]},set page(e=null){this.pageInputValidate(e),this.data.page=e,console.log(this),this.initPrint()},addSSOSLOBJ(e=null){this.page=e},pageInputValidate(e){if(null!==e)return console.warn("Success: New Page Valid."),!0;console.warn("Error: Empty Input Value.")},listenForEvents(){document.onreadystatechange=function(){switch(document.readyState){case"loading":case"complete":break;case"interactive":window.dispatchEvent(new Event("ssosl_ready"))}},window.addEventListener("ssosl_ready",(e=>{if(console.log("EventListener got:[> ssosl_ready <]"),"undefined"!=typeof current_page_vdd)try{t.addSSOSLOBJ(current_page_vdd)}catch(e){console.error(e)}try{t.init()}catch(e){console.error(e)}try{window.removeEventListener("ssosl_ready",this)}catch(e){console.error(e)}}))},looper(){var e=0,n=t.data.page.sections;void 0!==n&&n.length>0&&n.forEach((n=>{var o=document.getElementById(n.elemID);t.isInUserView("#"+n.elemID)?n.done||(void 0===n.render||n.lastUpdate>n.timeOfRender?(n.render=V_DomP(n),n.timeOfRender=Date.now(),o.innerHTML=n.render,o.style.minHeight=o.clientHeight+"px",t.maybeLoadStyle(n.type),n.done=!0):(o.innerHTML=n.render,n.done=!0)):(n.done=!1,o.innerHTML="",e++)})),0===e&&(console.log("Done! Detaching scroll event listener..."),this.wnd.removeEventListener("scroll",this.handler))},handler(){e(t.looper)},loadPage(){this.canPrintPage();var e=this.data.page.meta;this.data.page.sections,console.log(e),this.doc.title=e.title;var t=document.createElement("meta");t.setAttribute("content",e.description),t.setAttribute("name","description"),this.doc.head.appendChild(t);var n=document.createElement("meta");n.setAttribute("content",e.keywords),n.setAttribute("name","keywords"),this.doc.head.appendChild(n)},isInUserView(e){const t=this.wnd.scrollY||this.wnd.pageYOffset;var n=document.querySelector(e);if(void 0!==n){const e=(n?n.getBoundingClientRect().top:0)+t,o={top:t,bottom:t+this.wnd.innerHeight},i={top:e,bottom:e+n.clientHeight};return i.bottom>=o.top&&i.bottom<=o.bottom||i.top<=o.bottom&&i.top>=o.top}return!1},preload(){console.log("FunctionCall >> [ function preload() ]")},canPrintPage(){if(this.wnd&&this.doc)return!0;this.init()},initPrint(){var e=!1;this.data.page.sections.forEach((n=>{console.log(performance.now());for(var o=1e9*performance.now(),i=o-Math.trunc(o),s="UID_"+(i=0==Math.trunc(1e5*i)?Math.trunc(o):Math.trunc(1e5*i)),r=!1;!r;)document.getElementById(s)?s="UID_"+ ++i:r=!0;this.doc.body.innerHTML+=`<div id="${s}" class="page_section ${n.type}"></div>`,n.elemID=s,n.lastUpdate=Date.now(),n.timeOfRender=0,!1===e&&(n.render=V_DomP(n),this.maybeLoadStyle(n.type),document.getElementById(s).innerHTML=n.render,console.log(document.getElementById(s).clientHeight),document.getElementById(s).style.minHeight=document.getElementById(s).clientHeight+"px",n.timeOfRender=Date.now(),console.log(n.render),console.log("EEEE #"+s),t.isInUserView("#"+s)||(e=!0,console.log("stopPrint = TRUE")))}))},set styles(e=null){if(null!==e){try{this.data.styles.push(e)}catch(e){return console.log("ERROR:>> "+e.message),!1}return console.log("ADDED STYLE TO ARRAY"),document.body.innerHTML+=e.style,!0}console.warn("ERROR:>> style EMPTY")},maybeLoadStyle(e){var t=this.data.styles.length,n=!0;return t>0&&this.data.styles.forEach((t=>{t.name===e&&(n=!1)})),0==t||n?(this.styles={name:e,style:V_DomS(e)},console.log("STYLE LOADED :=: "+e),!0):(console.log("NO STYLE LOADED"),!1)},init(e=null){console.log("FunctionCall >> [ function initSSOSL() ]");try{this.wnd=window,this.doc=document,this.listenForEvents(),this.wnd.addEventListener("load",t.handler),this.wnd.addEventListener("scroll",t.handler)}catch(e){console.error(e)}}};t.init()})();